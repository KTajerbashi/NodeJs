<div class="page-container">
  <div class="page-content bg-white">
    <% if(events.length > 0) { %>
    <div class="calendar-container relative">
      <!-- Calendar Header (fixed position) -->
      <div
        class="calendar-header bg-indigo-600 text-white p-4 flex justify-between items-center sticky top-0 z-10 rounded"
      >
        <h2 class="text-xl font-bold">Event Calendar</h2>
        <div class="text-sm">
          Showing <%= events.length %> <%= events.length === 1 ? 'event' :
          'events' %>
        </div>
      </div>

      <!-- Events Grid (scrollable content) -->
      <div class="h-[calc(100vh-10rem)] overflow-y-auto p-4">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <% for(let event of events) { %>
          <div
            class="border rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300"
          >
            <!-- Event Header -->
            <div class="bg-indigo-50 p-3 border-b">
              <h3 class="font-semibold text-indigo-700 truncate">
                <%= event.title %>
              </h3>
            </div>

            <!-- Event Body -->
            <div class="p-4">
              <% if(event.description) { %>
              <p class="text-gray-600 mb-3 text-sm line-clamp-2">
                <%= event.description %>
              </p>
              <% } %>

              <div class="grid grid-cols-2 gap-2 text-sm mb-3">
                <div class="text-gray-500">Owner:</div>
                <div class="font-medium"><%= event.OwnerName %></div>

                <div class="text-gray-500">Created:</div>
                <div>
                  <%= new Date(event.createDate).toLocaleDateString() %>
                </div>

                <div class="text-gray-500">Starts:</div>
                <div class="text-indigo-600 font-medium">
                  <%= new Date(event.startDate).toLocaleString() %>
                </div>

                <div class="text-gray-500">Ends:</div>
                <div class="text-indigo-600 font-medium">
                  <%= new Date(event.endDate).toLocaleString() %>
                </div>
              </div>

              <!-- Event Footer -->
              <div class="flex justify-between items-center pt-2 border-t mt-3">
                <span class="text-xs text-gray-500">
                  <%= Math.ceil((new Date(event.endDate) - new
                  Date(event.startDate)) / (1000 * 60 * 60 * 24)) %> days
                </span>
                <button
                  class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded hover:bg-indigo-200 transition"
                >
                  View Details
                </button>
              </div>
            </div>
          </div>
          <% } %>
        </div>
      </div>
    </div>
    <% } else { %>
    <div class="p-8 text-center">
      <strong class="text-lg text-gray-700">
        <em>No Events Found (<%= events.length %>)</em>
      </strong>
      <p class="text-gray-500 mt-2">
        Try adding some events or checking a different date range
      </p>
    </div>
    <% } %>
  </div>
</div>
